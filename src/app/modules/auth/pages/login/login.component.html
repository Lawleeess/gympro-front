<div>
  <h2 class="mt-3 mb-4">Iniciar sesión</h2>

  <form
    [formGroup]="form"
    (ngSubmit)="login(emailControl.value, passwordControl.value)"
  >
    <div class="mb-4">
      <mat-form-field appearance="outline">
        <mat-label>Correo</mat-label>
        <mat-icon matPrefix><i class="fas fa-envelope"></i></mat-icon>
        <input
          matInput
          type="email"
          placeholder="Correo institucional"
          [formControl]="emailControl"
          autocomplete="email"
        />
      </mat-form-field>
      <small
        class="text-danger"
        *ngIf="emailControl.invalid && emailControl.touched"
      >
        Correo inválido
      </small>
    </div>

    <div class="mb-5">
      <mat-form-field appearance="outline">
        <mat-label>Contraseña</mat-label>
        <mat-icon
          matPrefix
          [matTooltip]="
            showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'
          "
        >
          <i
            id="show-password"
            *ngIf="!showPassword"
            (click)="showPassword = true"
            class="actionable fas fa-unlock-alt"
          ></i>
          <i
            id="hide-password"
            *ngIf="!!showPassword"
            (click)="showPassword = false"
            class="actionable fas fa-eye"
          ></i>
        </mat-icon>
        <input
          matInput
          id="password"
          [attr.type]="showPassword ? 'text' : 'password'"
          placeholder="Contraseña"
          [formControl]="passwordControl"
          autocomplete="password"
        />
      </mat-form-field>
      <a id="forgot-password" routerLink="/auth/forgot-password">¿Has olvidado tu contraseña?</a>

      <small
        class="text-danger"
        *ngIf="passwordControl.invalid && passwordControl.touched"
      >
        Contraseña inválida
      </small>
    </div>

    <div class="text-right">
      <button
        mat-flat-button
        type="submit"
        color="primary"
        class="fit-content"
        [disabled]="!form.valid || reqStatus === 1"
      >
        Iniciar sesión
      </button>
    </div>
  </form>

  <a id="signup-link" routerLink="/auth/signup">Registrarse</a>
</div>
