<div>
  <h2 class="mt-3 mb-4">Registrarse</h2>

  <form [formGroup]="form" (ngSubmit)="signup()">
    <div class="row">
      <div class="col-6 padding">
            <!-- name -->
        <div class="form-item">
          <mat-form-field appearance="outline">
            <mat-label>Nombre(s)</mat-label>
            <mat-icon matPrefix><i class="fas fa-user"></i></mat-icon>
            <input
              matInput
              type="text"
              placeholder="Nombre"
              formControlName="name"
              autocomplete="off"
            />
          </mat-form-field>
        </div>

        <!-- lastname -->
        <div class="form-item">
          <mat-form-field appearance="outline">
            <mat-label>Apellidos</mat-label>
            <mat-icon matPrefix><i class="fas fa-user"></i></mat-icon>
            <input
              matInput
              type="text"
              placeholder="Apellidos"
              formControlName="lastname"
              autocomplete="off"
            />
          </mat-form-field>
        </div>

        <!-- email -->
        <div class="form-item">
          <mat-form-field appearance="outline">
            <mat-label>Correo</mat-label>
            <mat-icon matPrefix><i class="fas fa-envelope"></i></mat-icon>
            <input
              matInput
              type="email"
              placeholder="Correo electronico"
              formControlName="email"
              autocomplete="off"
            />
          </mat-form-field>
          <small
            class="text-danger"
            *ngIf="form.get('email').invalid && form.get('email').touched"
          >
            Correo inválido
          </small>
        </div>

        <!-- birthday -->
        <div class="form-item">
          <mat-form-field appearance="outline">
            <mat-label>Fecha de nacimiento</mat-label>
            <mat-icon matPrefix><i class="fas fa-calendar"></i></mat-icon>
            <input
              matInput
              type="date"
              placeholder="yyyy-MM-dd"
              max="2013-12-31"
              formControlName="birthday"
              autocomplete="off"
            />
          </mat-form-field>
        </div>
      </div>
      
      <div class="col-6 padding">
         <!-- phone_number -->
    <div class="form-item">
      <mat-form-field appearance="outline">
        <mat-label>Número de celular</mat-label>
        <mat-icon matPrefix><i class="fas fa-phone"></i></mat-icon>
        <input
          matInput
          type="tel"
          placeholder="(XXX) XXX-XXXX"
          formControlName="phone_number"
          autocomplete="off"
        />
      </mat-form-field>
    </div>

    <!-- password -->
    <div class="form-item">
      <mat-form-field appearance="outline">
        <mat-label>Contraseña</mat-label>
        <mat-icon
          matPrefix
          [matTooltip]="
            showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'
          "
        >
          <i
            id="show-password-signup"
            *ngIf="!showPassword"
            (click)="showPassword = true"
            class="actionable fas fa-unlock-alt"
          ></i>
          <i
            id="hide-password-signup"
            *ngIf="!!showPassword"
            (click)="showPassword = false"
            class="actionable fas fa-eye"
          ></i>
        </mat-icon>
        <input
          matInput
          id="password-signup"
          [attr.type]="showPassword ? 'text' : 'password'"
          placeholder="Contraseña"
          formControlName="password"
          autocomplete="off"
        />
      </mat-form-field>
      <small
        id="invalid-password-legend-signup"
        class="text-danger"
        *ngIf="form.get('password').invalid && form.get('password').touched"
      >
        Contraseña inválida
      </small>
    </div>

    <!-- validate password -->
    <div class="form-item">
      <mat-form-field appearance="outline">
        <mat-label>Repetir contraseña</mat-label>
        <mat-icon
          matPrefix
          [matTooltip]="
            showValidatePassword ? 'Ocultar contraseña' : 'Mostrar contraseña'
          "
        >
          <i
            *ngIf="!showValidatePassword"
            (click)="showValidatePassword = true"
            class="actionable fas fa-unlock-alt"
          ></i>
          <i
            *ngIf="!!showValidatePassword"
            (click)="showValidatePassword = false"
            class="actionable fas fa-eye"
          ></i>
        </mat-icon>
        <input
          matInput
          [attr.type]="showValidatePassword ? 'text' : 'password'"
          type="password"
          placeholder="Contraseña"
          formControlName="validatePassword"
          autocomplete="off"
        />
      </mat-form-field>
      <small
        id="invalid-validate-password-legend-signup"
        class="text-danger"
        *ngIf="
          form.get('validatePassword').invalid &&
          form.get('validatePassword').touched
        "
      >
        Contraseña inválida
      </small>
      <small
        id="password-not-mach-legend-signup"
        class="text-danger"
        *ngIf="
          !form.get('password').invalid &&
          !form.get('validatePassword').invalid &&
          form.get('password').touched &&
          form.get('validatePassword').touched &&
          form.get('password').value !== form.get('validatePassword').value
        "
      >
        Las contraseña no coinciden
      </small>
    </div>
      </div>
    </div>

    <div class="text-right">
      <button
        mat-flat-button
        id="register-button-signup"
        type="submit"
        color="primary"
        class="fit-content"
        [disabled]="
          !form.valid ||
          reqStatus === 1 ||
          form.get('password').value !== form.get('validatePassword').value
        "
      >
        Registrarse
      </button>
    </div>

    <a id="login-link-signup" routerLink="/login">Iniciar sesión</a>
  </form>

</div>
