<div class="bg-white p-4">
  <section class="section-container">
    <form [formGroup]="form" (ngSubmit)="formChange()">
      <div class="row">
        <!-- module -->
        <div class="col-12 col-lg-8 mb-3 mb-lg-0">
          <mat-form-field appearance="outline">
            <mat-label>Módulo</mat-label>
            <mat-select formControlName="name" required>
              <mat-option *ngFor="let module of modules" [value]="module.id">
                {{ module.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- role -->
        <div class="col-12 col-lg-4 mb-3 mb-lg-0 text-right">
          <mat-form-field appearance="outline">
            <mat-label>Rol</mat-label>
            <mat-select formControlName="role" required>
              <mat-option *ngFor="let role of ROLES" [value]="role.id">
                {{ role.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-12 mt-2">
          <p class="text-muted text-left">
            Sólo es posible agregar módulos si tienes acceso a ellos con el rol
            de "Admin"
          </p>
        </div>

        <div class="col-12 text-right">
          <div
            class="button-container d-flex justify-content-end align-items-end"
          >
            <button
              mat-flat-button
              type="button"
              class="mr-3"
              (click)="closeForm()"
            >
              Cancelar
            </button>
            <button
              mat-flat-button
              color="primary"
              type="submit"
              [disabled]="!form.valid || isLoading"
            >
              <div class="d-flex align-items-center">
                <mat-spinner
                  diameter="18"
                  class="mr-2"
                  *ngIf="isLoading"
                ></mat-spinner>
                <span>Agregar</span>
              </div>
            </button>
          </div>
        </div>
      </div>
    </form>
  </section>
</div>
