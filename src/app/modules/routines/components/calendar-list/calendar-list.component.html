
<div class="container">
  <h1 class="left">Crea tu rutina</h1>

  <mat-form-field appearance="outline">
    <mat-label>Grupo muscular</mat-label>
    <mat-select
      [(value)]="selectedMuscle"
      (selectionChange)="getRoutine(selectedMuscle)"
      >
      <mat-option
        *ngFor="let muscle of muscleGroups"
        [value]="muscle.value"
      >
        {{ muscle.label }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div cdkDropListGroup>

      <div *ngIf="this.routine != null || this.routine?.length >0" cdkDropList class="example-list2" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineByMuscle">
        <h3>{{this.muscleGroup}}</h3>
        <div class="example-box2" *ngFor="let item of routineByMuscle" cdkDrag >{{item.value.name}}
            <img [src]="item.value.url_image" [alt]="item">
            <img *cdkDragPreview [src]="item.value.url_image" [alt]="item">
        </div>
      </div>

    <div class="right">
      <button
        mat-flat-button
        id="save-button"
        type="submit"
        color="primary"
        class="right"
        (click)="clear()"
        [disabled]="!(this.routine != null)">
        Guardar
      </button>
      <button
        mat-flat-button
        id="save-button"
        type="submit"
        color="warn"
        (click)="clear()"
        class="right"
        [disabled]="isClear">
        Limpiar todo
      </button>
    </div>

    <div class="row" *ngIf="isClear">
      <div class="col" cdkDropList class="example-listClear" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineMonday">
        <h3>Lunes</h3>
      </div>
      <div class="col" cdkDropList class="example-listClear" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineTuesday">
        <h3>Martes</h3>
      </div>
      <div class="col" cdkDropList class="example-listClear" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineWednesday">
        <h3>Miércoles</h3>
      </div>
      <div class="col" cdkDropList class="example-listClear" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineThursday">
        <h3>Jueves</h3>
      </div>
      <div class="col" cdkDropList class="example-listClear" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineFriday">
        <h3>Viernes</h3>
      </div>
      <div class="col" cdkDropList class="example-listClear" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineSaturday">
        <h3>Sábado</h3>
      </div>
    </div>

    <div class="row" *ngIf="!isClear">
      <div class="col" cdkDropList class="example-list" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineMonday">
        <h3>Lunes</h3>
        <div class="example-box" *ngFor="let item of routineMonday" cdkDrag [cdkDragDisabled]="item.disabled">
            <img [src]="item.value.url_image" [alt]="item">
            <img *cdkDragPreview [src]="item.value.url_image" [alt]="item.value.name">
        </div>
      </div>
      <div class="col" cdkDropList class="example-list" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineTuesday">
        <h3>Martes</h3>
        <div class="example-box" *ngFor="let item of routineTuesday" cdkDrag [cdkDragDisabled]="item.disabled">
            <img [src]="item.value.url_image" [alt]="item">
            <img *cdkDragPreview [src]="item.value.url_image" [alt]="item.value.name">
        </div>
      </div>
      <div class="col" cdkDropList class="example-list" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineWednesday">
        <h3>Miércoles</h3>
        <div class="example-box" *ngFor="let item of  routineWednesday" cdkDrag [cdkDragDisabled]="item.disabled">
          <img [src]="item.value.url_image" [alt]="item">  
          <img *cdkDragPreview [src]="item.value.url_image" [alt]="item.name">
        </div>
      </div>
      <div class="col" cdkDropList class="example-list" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineThursday">
        <h3>Jueves</h3>
        <div class="example-box" *ngFor="let item of routineThursday" cdkDrag [cdkDragDisabled]="item.disabled">
          <img [src]="item.value.url_image" [alt]="item">  
          <img *cdkDragPreview [src]="item.value.url_image" [alt]="item.name">
        </div>
      </div>
      <div class="col" cdkDropList class="example-list" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineFriday">
        <h3>Viernes</h3>
        <div class="example-box" *ngFor="let item of routineFriday" cdkDrag [cdkDragDisabled]="item.disabled">
          <img [src]="item.value.url_image" [alt]="item">  
          <img *cdkDragPreview [src]="item.value.url_image" [alt]="item.name">
        </div>
      </div>
      <div class="col" cdkDropList class="example-list" (cdkDropListDropped)="drop($event)" [cdkDropListData]="routineSaturday">
        <h3>Sábado</h3>
        <div class="example-box" *ngFor="let item of routineSaturday" cdkDrag [cdkDragDisabled]="item.disabled">
          <img [src]="item.value.url_image" [alt]="item">  
          <img *cdkDragPreview [src]="item.value.url_image" [alt]="item.name">
        </div>
      </div>
    </div>

  </div>
    
</div>